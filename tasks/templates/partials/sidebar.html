<div class="sidebar">
    <ul class="nav nav-pills flex-column bg-primary bg-opacity-10 p-2" id="menu" role="tablist">
        <div class="row">
            <div class="col">
                <p class="my-auto mx-1 mb-3"> <b>Teams:</b> </p>
            </div>
        </div>
        <div class="overflow-auto" style="max-height: calc(100vh - 150px)">
        {% for team in teams %}
            <li class="nav-object my-1">
                <div class="text-start border border-primary rounded">
                    <a class="nav-link {% if forloop.first %} active {% endif %}" id="{{ team.team_name|slugify }}-tab" data-toggle="pill" href="#{{ team.team_name|slugify }}" role="tab" aria-controls="{{ team.team_name|slugify }}" aria-selected="{% if forloop.first %} true {% else %} false {% endif %}">
                        {{ team.team_name }}
                    </a>
                </div>
            </li>
        {% endfor %}
        </div>
    </ul>
    <div class="arrow">
        <div class="semi-circle bg-primary bg-opacity-10">
            <a href="" class="arrow-content text-black" id="offscreen">
                <span class="bi-caret-left-fill larger"></span>
            </a>
        </div>
    </div>
</div>

<div class="tab-content" id="content">
    {% for team in teams %}
    <div class="tab-pane {% if forloop.first %} show active {% endif %}" id="{{ team.team_name|slugify }}" role="tabpanel" aria-labelledby="{{ team.team_name|slugify }}-tab">
        <!-- displaying dashboard with tasks could go here -->
        {{ team.team_name }}
    </div>
    {% endfor %}
</div>




<!-- Specific JavaScript to this partial -->
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script>
    $(document).ready(function() {

        // Activates content of nav-items on click

        $('.nav-object').on('click', function(e) {
            e.preventDefault();

            $('.nav-link').removeClass('active');
            $('.tab-pane').removeClass('active');

            var tag = $(this).find('a');
            $(tag).addClass('active');
            $(tag.attr('href')).addClass('active');

            window.location.href = tag.attr('href');
        });
        
        // Moves nav-items offscreen / onscreen
        
        $('#offscreen').on('click', function(e) {
            e.preventDefault();
            var sidebar = $('.sidebar');
            if (sidebar.hasClass('slide-off')) {
                sidebar.removeClass('slide-off')

                // Slide onscreen
            } else {

                sidebar.addClass('slide-off')
                // Slide offscreen
            }
        });

    });
</script>




<!-- Specific CSS to this partial -->
<style>
/* CSS for positioning arrow */
.arrow {
    position: fixed;
    overflow: hidden;
    left: 155px;
}
.semi-circle {
    width: 30px;
    height: 50px;
    border-bottom-right-radius: 15px;
    border-top-right-radius: 15px;
}
.arrow-content{
    position: absolute;
    top: 15%;
    left: 15%;
    white-space: nowrap;
}
.larger{
    font-size: 1.4em;
}


/* Transition for sliding */
.sidebar {
    transition: transform 0.4s ease-in-out;
}
.slide-off {
    transform: translateX(-200px);
}


/* Menu and content for sidebar */
#menu {
    position: fixed;
    overflow: hidden;
    left:5px;
    border-radius: 20px 0 20px 20px;
    max-width: 150px;
}
#content{
    padding:20px;
}
</style>