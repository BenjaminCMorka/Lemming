<div class="sidebar">
    <ul class="nav nav-pills flex-column bg-primary bg-opacity-10 p-2" id="menu" role="tablist">
        <div class="row">
            <div class="col">
                <p class="mx-1 mb-1" style="font-size:20px; padding-right: 77px"> <b>Teams:</b> </p>
            </div>
        </div>
        <div class="move-row overflow-auto" style="max-height: calc(100vh - 250px)">
        {% for team in teams %}
            <li class="nav-object my-1">
                <div class="text-start border border-primary rounded">
                    <a class="nav-link {% if forloop.first %} active {% endif %}" id="{{ team.team_name|slugify }}-tab" data-toggle="pill" href="#{{ team.team_name|slugify }}" role="tab" aria-controls="{{ team.team_name|slugify }}" aria-selected="{% if forloop.first %} true {% else %} false {% endif %}">
                        {{ team.team_name }}
                    </a>
                </div>
            </li>
        {% endfor %}
        </div>
    </ul>
</div>
<div class="sidebar arrow-in">
    <div class="semi-circle bg-primary bg-opacity-10">
        <a href="" class="arrow-content text-black move">
            <span class="bi-caret-left-fill larger"></span>
        </a>
    </div>
</div>
<div class="arrow-out">
    <div class="semi-circle bg-primary bg-opacity-10">
        <a href="" class="arrow-content text-black move">
            <span class="bi-caret-right-fill larger"></span>
        </a>
    </div>
</div>

<div class="tab-content" id="content">
    {% for team in teams %}
    <div class="tab-pane {% if forloop.first %} show active {% endif %}" id="{{ team.team_name|slugify }}" role="tabpanel" aria-labelledby="{{ team.team_name|slugify }}-tab">
        <!-- displaying dashboard with tasks could go here -->
        {{ team.team_name }}
    </div>
    {% endfor %}
</div>




<!-- Specific JavaScript to this partial -->
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script>
    $(document).ready(function() {

        // Activates content of nav-items on click

        $('.nav-object').on('click', function(e) {
            e.preventDefault();

            $('.nav-link').removeClass('active');
            $('.tab-pane').removeClass('active');

            var tag = $(this).find('a');
            $(tag).addClass('active');
            $(tag.attr('href')).addClass('active');

            window.location.href = tag.attr('href');
        });
        
        // Moves nav-items offscreen / onscreen
        
        $('.move').on('click', function(e) {
            e.preventDefault();
            var sidebar = $('.sidebar');
            var arrowOut = $('.arrow-out');

            if (sidebar.hasClass('slide-off')) {
                arrowOut.animate({ left: '-=50px'}, 'fast')

                sidebar.removeClass('slide-off');
                sidebar.addClass('slide-on');
                // Slide arrow-out offscreen THEN menu onscreen
            } else {
                sidebar.removeClass('slide-on');
                sidebar.addClass('slide-off');

                arrowOut.animate({ left: '+=50px'}, 'slow')
                // Slide menu offscreen THEN arrow-out onscreen
            }

        });

    });
</script>




<!-- Specific CSS to this partial -->
<style>
/* CSS for positioning arrow */
.arrow-in {
    position: relative;
    overflow: hidden;
}
.arrow-out{
    position: fixed;
    left: -50px;

}
.semi-circle {
    width: 30px;
    height: 50px;
    border-bottom-right-radius: 15px;
    border-top-right-radius: 15px;
}
.arrow-content{
    position: absolute;
    top: 9px;
    left: 2px;
    white-space: nowrap;
}
.larger{
    font-size: 1.4em;
}


.sidebar{
    transition: transform 0.8s cubic-bezier(0.2, 0.8, 0.3, 1.2);
}
.slide-off{
    transform: translateX(-330px);
}
.slide-on{
    transform: translateX(0);
}


/* Menu and content for sidebar */
#menu {
    border-radius: 20px 0 0 20px;
    max-width: 165px;
}
#content{
    padding:20px;
}
</style>