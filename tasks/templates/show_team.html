{% extends 'base_content.html' %}
{% block content %}
<div class="container">
    <div class="row">
        <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12" id="show-team-table">
            <h1>Team {{team.team_name}}</h1>
<!--Show the team members in the team as a list-->
<!--Use code from finding all the users, and filter and find only those who have the same team as the current user-->
        </div>
        <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">
            <form class="d-flex" method="POST" action="{% url 'show_team'  %}">
                {% csrf_token %}
                <input class="form-control me-2" type="search" id="query" name="q" placeholder="Search...">
                <button class="btn btn-outline-secondary">Search</button>
            </form>

            {% if q %}

                <h1>Users: {{q}}</h1>
                <br/>
                <div class="list-group">
        
                    {% for user in users %}
                    {% if user.team != team %}
                    <li class="list-group-item">{{ user.first_name }} {{ user.last_name }}
                        <form method="POST" action="">
                            {% csrf_token %}
                            <!-- ADD ADMIN CHECK FOR ADD TO TEAM BUTTON -->
                            <input type = "hidden" name="userToAdd" value="{{user}}"/>
                            <input type="submit" class="btn btn-outline-success" value="Add to Team"/>
                        </form>
                    </li>
                    {% endif %}
                
                    {% endfor %}
                </div>
            {% endif%}
        </div>
        
        </div>
    </div>
</div>
    
{% endblock %}  